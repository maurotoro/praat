#!/bin/python2

import random

#[fracA, propA, LowToneAdur, HighToneAdur, maxStartHTA] 
a=[["5-8", 0.625, 2472, 1546, 926],
["6-8", 0.75, 2060, 1546, 514],
["4-8", 0.5, 2622, 1312, 1310],
["5-8", 0.625, 2098, 1312, 786],
["2-8", 0.25, 3348, 838, 2510],
["3-8", 0.375, 2232, 838, 1394],
["5-8", 0.625, 2614, 1634, 980],
["7-8", 0.875, 1866, 1632, 234],
["3-8", 0.375, 3066, 1150, 1916],
["5-8", 0.625, 1840, 1150, 690],
["2-8", 0.25, 3594, 898, 2696],
["4-8", 0.5, 1798, 900, 898],
["4-8", 0.5, 2922, 1462, 1460],
["7-8", 0.875, 1670, 1462, 208],
["3-8", 0.375, 3222, 1208, 2014],
["6-8", 0.75, 1610, 1208, 402],
["2-8", 0.25, 3772, 944, 2828],
["5-8", 0.625, 1508, 942, 566],
["5-8", 0.625, 2024, 1266, 758],
["6-8", 0.75, 1688, 1266, 422],
["4-8", 0.5, 2062, 1032, 1030],
["5-8", 0.625, 1650, 1032, 618],
["2-8", 0.25, 2228, 558, 1670],
["3-8", 0.375, 1484, 556, 928],
["5-8", 0.625, 2166, 1354, 812],
["7-8", 0.875, 1546, 1352, 194],
["3-8", 0.375, 2320, 870, 1450],
["5-8", 0.625, 1392, 870, 522],
["2-8", 0.25, 2474, 618, 1856],
["4-8", 0.5, 1238, 620, 618],
["4-8", 0.5, 2362, 1182, 1180],
["7-8", 0.875, 1350, 1182, 168],
["3-8", 0.375, 2474, 928, 1546],
["6-8", 0.75, 1238, 928, 310],
["2-8", 0.25, 2652, 664, 1988],
["5-8", 0.625, 1060, 662, 398],
["5-8", 0.625, 2920, 1826, 1094],
["6-8", 0.75, 2434, 1826, 608],
["4-8", 0.5, 3182, 1592, 1590],
["5-8", 0.625, 2546, 1592, 954],
["2-8", 0.25, 4468, 1118, 3350],
["3-8", 0.375, 2978, 1116, 1862],
["5-8", 0.625, 3062, 1914, 1148],
["7-8", 0.875, 2186, 1912, 274],
["3-8", 0.375, 3814, 1430, 2384],
["5-8", 0.625, 2288, 1430, 858],
["2-8", 0.25, 4714, 1178, 3536],
["4-8", 0.5, 2358, 1180, 1178],
["4-8", 0.5, 3482, 1742, 1740],
["7-8", 0.875, 1990, 1742, 248],
["3-8", 0.375, 3968, 1488, 2480],
["6-8", 0.75, 1984, 1488, 496],
["2-8", 0.25, 4892, 1224, 3668],
["5-8", 0.625, 1956, 1222, 734],
["5-8", 0.625, 2024, 1266, 758],
["6-8", 0.75, 1688, 1266, 422],
["4-8", 0.5, 2062, 1032, 1030],
["5-8", 0.625, 1650, 1032, 618],
["2-8", 0.25, 2228, 558, 1670],
["3-8", 0.375, 1484, 556, 928],
["5-8", 0.625, 2166, 1354, 812],
["7-8", 0.875, 1546, 1352, 194],
["3-8", 0.375, 2320, 870, 1450],
["5-8", 0.625, 1392, 870, 522],
["2-8", 0.25, 2474, 618, 1856],
["4-8", 0.5, 1238, 620, 618],
["4-8", 0.5, 2362, 1182, 1180],
["7-8", 0.875, 1350, 1182, 168],
["3-8", 0.375, 2474, 928, 1546],
["6-8", 0.75, 1238, 928, 310],
["2-8", 0.25, 2652, 664, 1988],
["5-8", 0.625, 1060, 662, 398],
["5-8", 0.625, 3368, 2106, 1262],
["6-8", 0.75, 2808, 2106, 702],
["4-8", 0.5, 3742, 1872, 1870],
["5-8", 0.625, 2994, 1872, 1122],
["2-8", 0.25, 5588, 1398, 4190],
["3-8", 0.375, 3724, 1396, 2328],
["5-8", 0.625, 3510, 2194, 1316],
["7-8", 0.875, 2506, 2192, 314],
["3-8", 0.375, 4560, 1710, 2850],
["5-8", 0.625, 2736, 1710, 1026],
["2-8", 0.25, 5834, 1458, 4376],
["4-8", 0.5, 2918, 1460, 1458],
["4-8", 0.5, 4042, 2022, 2020],
["7-8", 0.875, 2310, 2022, 288],
["3-8", 0.375, 4714, 1768, 2946],
["6-8", 0.75, 2358, 1768, 590],
["2-8", 0.25, 6012, 1504, 4508],
["5-8", 0.625, 2404, 1502, 902],
["5-8", 0.625, 2024, 1266, 758],
["6-8", 0.75, 1688, 1266, 422],
["4-8", 0.5, 2062, 1032, 1030],
["5-8", 0.625, 1650, 1032, 618],
["2-8", 0.25, 2228, 558, 1670],
["3-8", 0.375, 1484, 556, 928],
["5-8", 0.625, 2166, 1354, 812],
["7-8", 0.875, 1546, 1352, 194],
["3-8", 0.375, 2320, 870, 1450],
["5-8", 0.625, 1392, 870, 522],
["2-8", 0.25, 2474, 618, 1856],
["4-8", 0.5, 1238, 620, 618],
["4-8", 0.5, 2362, 1182, 1180],
["7-8", 0.875, 1350, 1182, 168],
["3-8", 0.375, 2474, 928, 1546],
["6-8", 0.75, 1238, 928, 310],
["2-8", 0.25, 2652, 664, 1988],
["5-8", 0.625, 1060, 662, 398]]

b=[["6-8", 0.75, 1688, 1266, 422],
["5-8", 0.625, 2024, 1266, 758],
["5-8", 0.625, 1650, 1032, 618],
["4-8", 0.5, 2062, 1032, 1030],
["3-8", 0.375, 1484, 556, 928],
["2-8", 0.25, 2228, 558, 1670],
["7-8", 0.875, 1546, 1352, 194],
["5-8", 0.625, 2166, 1354, 812],
["5-8", 0.625, 1392, 870, 522],
["3-8", 0.375, 2320, 870, 1450],
["4-8", 0.5, 1238, 620, 618],
["2-8", 0.25, 2474, 618, 1856],
["7-8", 0.875, 1350, 1182, 168],
["4-8", 0.5, 2362, 1182, 1180],
["6-8", 0.75, 1238, 928, 310],
["3-8", 0.375, 2474, 928, 1546],
["5-8", 0.625, 1060, 662, 398],
["2-8", 0.25, 2652, 664, 1988],
["6-8", 0.75, 2060, 1546, 514],
["5-8", 0.625, 2472, 1546, 926],
["5-8", 0.625, 2098, 1312, 786],
["4-8", 0.5, 2622, 1312, 1310],
["3-8", 0.375, 2232, 838, 1394],
["2-8", 0.25, 3348, 838, 2510],
["7-8", 0.875, 1866, 1632, 234],
["5-8", 0.625, 2614, 1634, 980],
["5-8", 0.625, 1840, 1150, 690],
["3-8", 0.375, 3066, 1150, 1916],
["4-8", 0.5, 1798, 900, 898],
["2-8", 0.25, 3594, 898, 2696],
["7-8", 0.875, 1670, 1462, 208],
["4-8", 0.5, 2922, 1462, 1460],
["6-8", 0.75, 1610, 1208, 402],
["3-8", 0.375, 3222, 1208, 2014],
["5-8", 0.625, 1508, 942, 566],
["2-8", 0.25, 3772, 944, 2828],
["6-8", 0.75, 1688, 1266, 422],
["5-8", 0.625, 2024, 1266, 758],
["5-8", 0.625, 1650, 1032, 618],
["4-8", 0.5, 2062, 1032, 1030],
["3-8", 0.375, 1484, 556, 928],
["2-8", 0.25, 2228, 558, 1670],
["7-8", 0.875, 1546, 1352, 194],
["5-8", 0.625, 2166, 1354, 812],
["5-8", 0.625, 1392, 870, 522],
["3-8", 0.375, 2320, 870, 1450],
["4-8", 0.5, 1238, 620, 618],
["2-8", 0.25, 2474, 618, 1856],
["7-8", 0.875, 1350, 1182, 168],
["4-8", 0.5, 2362, 1182, 1180],
["6-8", 0.75, 1238, 928, 310],
["3-8", 0.375, 2474, 928, 1546],
["5-8", 0.625, 1060, 662, 398],
["2-8", 0.25, 2652, 664, 1988],
["6-8", 0.75, 2434, 1826, 608],
["5-8", 0.625, 2920, 1826, 1094],
["5-8", 0.625, 2546, 1592, 954],
["4-8", 0.5, 3182, 1592, 1590],
["3-8", 0.375, 2978, 1116, 1862],
["2-8", 0.25, 4468, 1118, 3350],
["7-8", 0.875, 2186, 1912, 274],
["5-8", 0.625, 3062, 1914, 1148],
["5-8", 0.625, 2288, 1430, 858],
["3-8", 0.375, 3814, 1430, 2384],
["4-8", 0.5, 2358, 1180, 1178],
["2-8", 0.25, 4714, 1178, 3536],
["7-8", 0.875, 1990, 1742, 248],
["4-8", 0.5, 3482, 1742, 1740],
["6-8", 0.75, 1984, 1488, 496],
["3-8", 0.375, 3968, 1488, 2480],
["5-8", 0.625, 1956, 1222, 734],
["2-8", 0.25, 4892, 1224, 3668],
["6-8", 0.75, 1688, 1266, 422],
["5-8", 0.625, 2024, 1266, 758],
["5-8", 0.625, 1650, 1032, 618],
["4-8", 0.5, 2062, 1032, 1030],
["3-8", 0.375, 1484, 556, 928],
["2-8", 0.25, 2228, 558, 1670],
["7-8", 0.875, 1546, 1352, 194],
["5-8", 0.625, 2166, 1354, 812],
["5-8", 0.625, 1392, 870, 522],
["3-8", 0.375, 2320, 870, 1450],
["4-8", 0.5, 1238, 620, 618],
["2-8", 0.25, 2474, 618, 1856],
["7-8", 0.875, 1350, 1182, 168],
["4-8", 0.5, 2362, 1182, 1180],
["6-8", 0.75, 1238, 928, 310],
["3-8", 0.375, 2474, 928, 1546],
["5-8", 0.625, 1060, 662, 398],
["2-8", 0.25, 2652, 664, 1988],
["6-8", 0.75, 2808, 2106, 702],
["5-8", 0.625, 3368, 2106, 1262],
["5-8", 0.625, 2994, 1872, 1122],
["4-8", 0.5, 3742, 1872, 1870],
["3-8", 0.375, 3724, 1396, 2328],
["2-8", 0.25, 5588, 1398, 4190],
["7-8", 0.875, 2506, 2192, 314],
["5-8", 0.625, 3510, 2194, 1316],
["5-8", 0.625, 2736, 1710, 1026],
["3-8", 0.375, 4560, 1710, 2850],
["4-8", 0.5, 2918, 1460, 1458],
["2-8", 0.25, 5834, 1458, 4376],
["7-8", 0.875, 2310, 2022, 288],
["4-8", 0.5, 4042, 2022, 2020],
["6-8", 0.75, 2358, 1768, 590],
["3-8", 0.375, 4714, 1768, 2946],
["5-8", 0.625, 2404, 1502, 902],
["2-8", 0.25, 6012, 1504, 4508]]

#Relevant Praat function:
#Create Sound as pure tone: $NAME, $CHAN, $START, $END, $SAMPRATE, $FREQ, 0.2, 0.01, 0.01
#Coda for the a,b matrices: [fracA, propA, LowToneAdur, HighToneAdur, maxStartHTA] 
for x,datae in enumerate(zip(a,b)):
	"""
		Creates a praat script in the most unelegant and nonsofisticated way, 
		csndXY creates the pairs of sounds; selsX creates every stimuli pairs
		cat concatenates them with the delay, and savW saves a .wav of this concatenation
		The script creates needs to be deleted after every change to avoid repetition, it only
		appends new lines, doesn't care about file history...
	"""
	dataA=datae[0]; dataB=datae[1]
	isiA=random.randint(0,dataA[4])/1000.0
	lenAH=isiA+dataA[3]/1000.0
	lenAL=dataA[2]/1000.0
	namAH="toneHigh"+str(dataA[0])
	namAL="toneLow"+str(dataA[0])
	isiB=random.randint(0,dataB[4])/1000.0
	lenBH=isiB+dataB[3]/1000.0
	lenBL=dataB[2]/1000.0
	namBH="toneHigh"+str(dataB[0])
	namBL="toneLow"+str(dataB[0])
	csndAL= 'Create Sound as pure tone: "' + namAL + '", 1, 0, '+str(lenAL)+", 44100, 440, 0.2, 0.01, 0.01"
	csndAH= 'Create Sound as pure tone: "' + namAH + '", 1, '+str(isiA)+", "+str(lenAH)+", 44100, 660, 0.2, 0.01, 0.01"
	csndBL= 'Create Sound as pure tone: "' + namBL + '", 1, 0, '+str(lenBL)+", 44100, 440, 0.2, 0.01, 0.01"
	csndBH= 'Create Sound as pure tone: "' + namBH + '", 1, '+str(isiB)+", "+str(lenBH)+", 44100, 660, 0.2, 0.01, 0.01"
	selsA='selectObject: "Sound '+namAL+'"\n'+'plusObject: "Sound '+namAH+'"\n'+"Combine to stereo\n"+'selectObject: "Sound combined_2"\n'+"Convert to mono\n"+'selectObject: "Sound combined_2_mono"\n'+'Rename: "combined_2_mono_A"\n'+'selectObject: "Sound combined_2"\nRemove\n'
	selsB='selectObject: "Sound '+namBL+'"\n'+'plusObject: "Sound '+namBH+'"\n'+"Combine to stereo\n"+'selectObject: "Sound combined_2"\n'+"Convert to mono\n"+'selectObject: "Sound combined_2_mono"\n'+'Rename: "combined_2_mono_B"\n'+'selectObject: "Sound combined_2"\nRemove\n'
	delay='Create Sound from formula: "delay", 1, 0, 0.75, 44100, "0"\n'
	cat='selectObject: "Sound combined_2_mono_A"\n'+'plusObject: "Sound delay"\n'+'plusObject: "Sound combined_2_mono_B"\n'+'Concatenate\n'+'selectObject: "Sound chain"\n'
	savW='Save as WAV file: "/Personal/scripKidd/git/praat/Sounds/'+'Stim_'+str(x)+'_'+str(dataA[0])+'_'+str(dataB[0])+'.wav"\n'+'select all\nRemove\n'
	with  open("/Personal/scripKidd/git/praat/praatScript_oneXone.p","a+") as f:
		f.write(csndAL+"\n"+csndAH+"\n"+csndBL+"\n"+csndBH+"\n"+selsA+delay+selsB+cat+savW)
		f.close()
	print csndAL+"\n"+csndAH+"\n"+csndBL+"\n"+csndBH+"\n"+selsA+selsB+delay+cat+savW
